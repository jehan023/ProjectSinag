{"version":3,"file":"static/js/703.b1d552ff.chunk.js","mappings":"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","sources":["charts/energyChart.js","charts/chargingChart.js","charts/battLevelChart.js","charts/productionChart.js","components/analysis.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport zoomPlugin from 'chartjs-plugin-zoom';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\nimport { Bar } from 'react-chartjs-2';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n    zoomPlugin\r\n);\r\n\r\nconst EnergyChart = (props) => {\r\n    const sysData = props.data;\r\n    const view = props.viewMode;\r\n\r\n    const [label, setLabel] = useState([]);\r\n    const [dataSys, setDataSys] = useState([]);\r\n    const [dataCons, setDataCons] = useState([]);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            setLabel([]);\r\n            setDataSys([]);\r\n\r\n            switch (view) {\r\n                case 'day':\r\n                    sysData.map(row => {\r\n                        setDataSys(prevList => [...prevList, row.pv_power]);\r\n                        setDataCons(prevList => [...prevList, row.pv_power]);\r\n                        setLabel(prevList => [...prevList, row.time]);\r\n                    });\r\n\r\n                    break;\r\n\r\n                case 'month':\r\n                    const byMonthFilter = sysData.reduce((acc, item) => {\r\n                        const existingItem = acc.find((el) => el.date === item.date);\r\n                        if (existingItem) {\r\n                            existingItem.pv_gen += parseFloat(item.pv_power)*0.16667;\r\n                        } else {\r\n                            acc.push({ date: item.date, pv_gen: item.pv_power*0.16667 });\r\n                        }\r\n                        return acc;\r\n                    }, []);\r\n\r\n                    byMonthFilter.map(row => {\r\n                        setDataSys(prevList => [...prevList, row.pv_gen]);\r\n                        setLabel(prevList => [...prevList, row.date]);\r\n                    });\r\n\r\n                    break\r\n\r\n                case 'year':\r\n                    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n                    const sumByDate = {};\r\n                    for (let i = 0; i < sysData.length; i++) {\r\n                        const dateParts = sysData[i].date.split(' ');\r\n                        const monthIndex = monthNames.indexOf(dateParts[0]);\r\n                        const year = dateParts[2];\r\n                        const yearMonth = `${monthNames[monthIndex]}-${year}`;\r\n                        const value = sysData[i].pv_power;\r\n                        if (sumByDate[yearMonth]) {\r\n                            sumByDate[yearMonth] += value;\r\n                        } else {\r\n                            sumByDate[yearMonth] = value;\r\n                        }\r\n                    }\r\n\r\n                    const sumByMonth = {};\r\n                    for (const date in sumByDate) {\r\n                        const yearMonth = date;\r\n                        const value = sumByDate[date];\r\n                        if (sumByMonth[yearMonth]) {\r\n                            sumByMonth[yearMonth] += value;\r\n                        } else {\r\n                            sumByMonth[yearMonth] = value;\r\n                        }\r\n                    }\r\n\r\n                    const resultArray = [];\r\n                    for (const yearMonth in sumByMonth) {\r\n                        const [monthName, year] = yearMonth.split('-');\r\n                        const month = monthNames.indexOf(monthName) + 1;\r\n                        const sum = sumByMonth[yearMonth];\r\n                        resultArray.push({ month: monthNames[month - 1], sum });\r\n                    }\r\n\r\n                    resultArray.map(row => {\r\n                        setDataSys(prevList => [...prevList, row.sum]);\r\n                        setDataCons(prevList => [...prevList, row.sum]);\r\n                        setLabel(prevList => [...prevList, row.month]);\r\n                    });\r\n                    break;\r\n\r\n                default:\r\n                    return;\r\n            }\r\n\r\n        } catch {\r\n\r\n        }\r\n    }, [sysData, view])\r\n\r\n\r\n\r\n    const options = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: {\r\n                position: 'bottom'\r\n            },\r\n            title: {\r\n                display: true,\r\n                text: 'Energy (Wh)',\r\n                font: {\r\n                    size: 24,\r\n                }\r\n            },\r\n            zoom: {\r\n                pan: {\r\n                    enabled: true,\r\n                    mode: 'x'\r\n                },\r\n                // zoom: {\r\n                //     pinch: {\r\n                //         enabled: true       // Enable pinch zooming\r\n                //     },\r\n                //     wheel: {\r\n                //         enabled: true       // Enable wheel zooming\r\n                //     },\r\n                //     mode: 'x',\r\n                // }\r\n            }\r\n        },\r\n    };\r\n\r\n    const labels = label;\r\n\r\n    const data = {\r\n        labels,\r\n        datasets: [\r\n            {\r\n                label: 'Generate (Wh)',\r\n                data: dataSys,\r\n                backgroundColor: 'rgba(255, 99, 132, 1)',\r\n            },\r\n            // {\r\n            //     label: 'Consumption',\r\n            //     data: dataCons,\r\n            //     backgroundColor: 'rgba(53, 162, 235, 1)',\r\n            // },\r\n        ],\r\n    };\r\n\r\n    return <Bar options={options} data={data} />;\r\n};\r\n\r\nexport default EnergyChart;","import React, { useEffect, useState } from 'react';\r\nimport zoomPlugin from 'chartjs-plugin-zoom';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\nimport { Bar } from 'react-chartjs-2';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n    zoomPlugin\r\n);\r\n\r\nconst ChargingChart = (props) => {\r\n    const sysData = props.data;\r\n    const view = props.viewMode;\r\n\r\n    const [label, setLabel] = useState([]);\r\n    const [charge, setCharge] = useState([]);\r\n    const [discharge, setDischarge] = useState([]);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            setLabel([]);\r\n            setCharge([]);\r\n            setDischarge([]);\r\n\r\n            switch (view) {\r\n                case 'day':\r\n                    sysData.map(row => {\r\n                        setCharge(prevList => [...prevList, row.pv_power]);\r\n                        setDischarge(prevList => [...prevList, row.pv_power]);\r\n                        setLabel(prevList => [...prevList, row.time]);\r\n                    });\r\n\r\n                    break;\r\n\r\n                case 'month':\r\n                    const byMonthFilter = sysData.reduce((acc, item) => {\r\n                        const existingItem = acc.find((el) => el.date === item.date);\r\n                        if (existingItem) {\r\n                            existingItem.sys_value += parseFloat(item.pv_power);\r\n                            existingItem.cons_value += parseFloat(item.pv_power);\r\n                        } else {\r\n                            acc.push({ date: item.date, sys_value: item.pv_power, cons_value: item.pv_power });\r\n                        }\r\n                        return acc;\r\n                    }, []);\r\n\r\n                   byMonthFilter.map(row => {\r\n                    setCharge(prevList => [...prevList, row.sys_value]);\r\n                    setDischarge(prevList => [...prevList, row.cons_value]);\r\n                        setLabel(prevList => [...prevList, row.date]);\r\n                    });\r\n                    \r\n                    break\r\n\r\n                case 'year':\r\n                    return;\r\n\r\n                default:\r\n                    return; \r\n            }\r\n\r\n        } catch {\r\n\r\n        }\r\n    }, [sysData, view])\r\n\r\n\r\n\r\n    const options = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: {\r\n                position: 'bottom',\r\n            },\r\n            title: {\r\n                display: true,\r\n                text: 'Charge-Discharge Time',\r\n                font: {\r\n                    size: 24,\r\n                }\r\n            },\r\n            zoom: {\r\n                pan: {\r\n                    enabled: true,\r\n                    mode: 'x'\r\n                },\r\n                zoom: {\r\n                    pinch: {\r\n                        enabled: true       // Enable pinch zooming\r\n                    },\r\n                    wheel: {\r\n                        enabled: true       // Enable wheel zooming\r\n                    },\r\n                    mode: 'x',\r\n                }\r\n            }\r\n        },\r\n    };\r\n\r\n    const labels = label;\r\n\r\n    const data = {\r\n        labels,\r\n        datasets: [\r\n            {\r\n                label: 'Charging',\r\n                data: charge,\r\n                backgroundColor: 'rgba(22, 160, 133, 1)',\r\n            },\r\n            {\r\n                label: 'Discharging',\r\n                data: discharge,\r\n                backgroundColor: 'rgba(207, 0, 15, 1)',\r\n            },\r\n        ],\r\n    };\r\n\r\n    return <Bar options={options} data={data} />;\r\n};\r\n\r\nexport default ChargingChart;","import React, { useEffect, useState } from 'react';\r\nimport zoomPlugin from 'chartjs-plugin-zoom';\r\nimport {\r\n    Chart as ChartJS,\r\n    LinearScale,\r\n    CategoryScale,\r\n    BarElement,\r\n    PointElement,\r\n    LineElement,\r\n    Legend,\r\n    Tooltip,\r\n    Filler,\r\n    LineController,\r\n    BarController,\r\n} from 'chart.js';\r\nimport { Chart } from 'react-chartjs-2';\r\n\r\nChartJS.register(\r\n    LinearScale,\r\n    CategoryScale,\r\n    BarElement,\r\n    PointElement,\r\n    LineElement,\r\n    Legend,\r\n    Tooltip,\r\n    Filler,\r\n    LineController,\r\n    BarController,\r\n    zoomPlugin\r\n);\r\n\r\nconst BattLevelChart = (props) => {\r\n    const sysData = props.data;\r\n    const view = props.viewMode;\r\n\r\n    const [label, setLabel] = useState([]);\r\n    const [level, setLevel] = useState([]);\r\n    const [lamp, setLamp] = useState([]);\r\n    const [status, setStatus] = useState([]);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            setLabel([]);\r\n            setLevel([]);\r\n            setLamp([]);\r\n            setStatus([]);\r\n\r\n            switch (view) {\r\n                case 'day':\r\n                    sysData.map(row => {\r\n                        setLevel(prevList => [...prevList, row.batt_level]);\r\n                        setLabel(prevList => [...prevList, row.time]);\r\n                        setLamp(prevList => [...prevList, row.led_status]);\r\n                        setStatus(prevList => [...prevList, row.charging]);\r\n                    });\r\n\r\n                    break;\r\n\r\n                case 'month':\r\n                    const byMonthFilter = sysData.reduce((acc, item) => {\r\n                        const existingItem = acc.find((el) => el.date === item.date);\r\n                        if (existingItem) {\r\n                            existingItem.level = Math.max(existingItem.level, parseFloat(item.batt_level));\r\n                        } else {\r\n                            acc.push({ date: item.date, level: item.batt_level });\r\n                        }\r\n                        return acc;\r\n                    }, []);\r\n\r\n                    byMonthFilter.map(row => {\r\n                        setLevel(prevList => [...prevList, row.level]);\r\n                        setLabel(prevList => [...prevList, row.date]);\r\n                    });\r\n\r\n                    break\r\n\r\n                case 'year':\r\n                    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n                    const levelByMonth = {};\r\n                    const countByMonth = {};\r\n\r\n                    for (let i = 0; i < sysData.length; i++) {\r\n                        const dateParts = sysData[i].date.split(' ');\r\n                        const monthIndex = monthNames.indexOf(dateParts[0]);\r\n                        const year = dateParts[2];\r\n                        const yearMonth = `${monthNames[monthIndex]}-${year}`;\r\n                        const level = sysData[i].batt_level;\r\n\r\n                        if (levelByMonth[yearMonth]) {\r\n                            levelByMonth[yearMonth] += level;\r\n                            countByMonth[yearMonth]++;\r\n                        } else {\r\n                            levelByMonth[yearMonth] = level;\r\n                            countByMonth[yearMonth] = 1;\r\n                        }\r\n                    }\r\n\r\n                    const resultArray = [];\r\n                    for (const yearMonth in levelByMonth) {\r\n                        const [monthName, year] = yearMonth.split('-');\r\n                        const month = monthNames.indexOf(monthName) + 1;\r\n                        const level = levelByMonth[yearMonth] / countByMonth[yearMonth];\r\n                        resultArray.push({ month: monthNames[month - 1], level: level });\r\n                    }\r\n\r\n                    resultArray.map(row => {\r\n                        setLevel(prevList => [...prevList, row.level]);\r\n                        setLabel(prevList => [...prevList, row.month]);\r\n                    });\r\n\r\n                    break;\r\n\r\n                default:\r\n                    return;\r\n            }\r\n\r\n        } catch {\r\n\r\n        }\r\n    }, [sysData, view])\r\n\r\n\r\n\r\n    const options = {\r\n        responsive: true,\r\n\r\n        // scales: {\r\n        //     yAxes: [\r\n        //         {\r\n        //             id: 'lamp',\r\n        //             type: 'category',\r\n        //             labels: ['OFF', 'ON'],\r\n        //         },\r\n        //         {\r\n        //             id: 'charging',\r\n        //             type: 'category',\r\n        //             labels: ['discharging', 'charging'],\r\n        //         },\r\n        //     ],\r\n        // },\r\n        plugins: {\r\n            legend: {\r\n                position: 'bottom',\r\n                labels: {\r\n                    filter: function (legendItem, data) {\r\n                        return legendItem.datasetIndex !== 0;\r\n                    },\r\n                },\r\n            },\r\n            title: {\r\n                display: true,\r\n                text: 'Battery Level',\r\n                font: {\r\n                    size: 24,\r\n                }\r\n            },\r\n            zoom: {\r\n                pan: {\r\n                    enabled: true,\r\n                    mode: 'x'\r\n                },\r\n                // zoom: {\r\n                //     pinch: {\r\n                //         enabled: true       // Enable pinch zooming\r\n                //     },\r\n                //     wheel: {\r\n                //         enabled: true       // Enable wheel zooming\r\n                //     },\r\n                //     mode: 'x',\r\n                // }\r\n            }\r\n        },\r\n    };\r\n\r\n    const labels = label;\r\n\r\n    const data = {\r\n        labels,\r\n        datasets: [\r\n            {\r\n                type: 'bar',\r\n                label: 'Level (%)',\r\n                data: level,\r\n                // backgroundColor: 'rgba(22, 160, 133, 0.5)',\r\n                // borderColor: 'rgba(75,192,192,1)',\r\n                backgroundColor: (point) => {\r\n                    if (status[point.dataIndex]) {\r\n                        return 'rgba(28, 164, 63, 0.8)'; // green if charging\r\n                    } if (lamp[point.dataIndex]) {\r\n                        return 'rgb(207, 0, 15, 0.8)'; // red if lamp is ON\r\n                    } else {\r\n                        return 'rgba(75,192,192,0.8)'; // blue if neither\r\n                    }\r\n                },\r\n                // fill: false,\r\n            },\r\n            {\r\n                type: 'line',\r\n                label: 'Lamp ON',\r\n                // data: lamp.map((d) => (d.lamp_status ? 'ON' : 'OFF')),\r\n                backgroundColor: 'rgb(207, 0, 15, 0.8)',\r\n                // borderColor: 'rgba(245, 39, 39, 0.8)',\r\n                // borderColor: 'rgba(255,0,0,1)',\r\n                // yAxisID: 'lamp',\r\n            },\r\n            {\r\n                type: 'line',\r\n                label: 'Charging',\r\n                // data: status,\r\n                backgroundColor: 'rgba(28, 164, 63, 0.8)',\r\n                // borderColor: 'rgba(22, 160, 133, 1)',\r\n                // borderColor: 'rgba(0,255,0,1)',\r\n                // yAxisID: 'charging',\r\n            },\r\n        ],\r\n    };\r\n\r\n    return <Chart options={options} data={data} />;\r\n};\r\n\r\nexport default BattLevelChart;","import React, { useEffect, useState } from 'react';\r\nimport zoomPlugin from 'chartjs-plugin-zoom';\r\nimport {\r\n    Chart as ChartJS,\r\n    LinearScale,\r\n    CategoryScale,\r\n    BarElement,\r\n    PointElement,\r\n    LineElement,\r\n    Legend,\r\n    Tooltip,\r\n    Filler,\r\n    LineController,\r\n    BarController,\r\n} from 'chart.js';\r\nimport { Chart } from 'react-chartjs-2';\r\n\r\nChartJS.register(\r\n    LinearScale,\r\n    CategoryScale,\r\n    BarElement,\r\n    PointElement,\r\n    LineElement,\r\n    Legend,\r\n    Tooltip,\r\n    Filler,\r\n    LineController,\r\n    BarController,\r\n    zoomPlugin\r\n);\r\n\r\n\r\nconst ProductionChart = (props) => {\r\n    const sysData = props.data;\r\n    const view = props.viewMode;\r\n\r\n    // console.table(sysData);\r\n\r\n    const [label, setLabel] = useState([]);\r\n    const [generate, setGenerate] = useState([]);\r\n    const [temp, setTemp] = useState([]);\r\n    const [light, setLight] = useState([]);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            setLabel([]);\r\n            setGenerate([]);\r\n            setTemp([]);\r\n            setLight([]);\r\n\r\n            switch (view) {\r\n                case 'day':\r\n                    sysData.map(row => {\r\n                        setLabel(prevList => [...prevList, row.time]);\r\n                        setGenerate(prevList => [...prevList, row.pv_power]);\r\n                        setTemp(prevList => [...prevList, row.temp]);\r\n                        setLight(prevList => [...prevList, row.lux]);\r\n                    });\r\n\r\n                    break;\r\n\r\n                case 'month':\r\n                    const byMonthFilter = sysData.reduce((acc, item) => {\r\n                        const existingItem = acc.find((el) => el.date === item.date);\r\n                        if (existingItem) {\r\n                            existingItem.sys_power += parseFloat(item.pv_power) * 0.16667;\r\n                            existingItem.sys_temp += parseFloat(item.temp);\r\n                            existingItem.sys_lux += parseFloat(item.lux);\r\n                            existingItem.count += 1;\r\n                        } else {\r\n                            acc.push({ date: item.date, sys_power: item.pv_power * 0.16667, sys_temp: item.temp, sys_lux: item.lux, count: 1 });\r\n                        }\r\n                        return acc;\r\n                    }, []);\r\n\r\n                    byMonthFilter.map(row => {\r\n                        setLabel(prevList => [...prevList, row.date]);\r\n                        setGenerate(prevList => [...prevList, row.sys_power]);\r\n                        setTemp(prevList => [...prevList, row.sys_temp/row.count]);\r\n                        setLight(prevList => [...prevList, row.sys_lux/row.count]);\r\n                    });\r\n                    console.table(byMonthFilter);\r\n\r\n                    break\r\n\r\n                case 'year':\r\n                    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n                    const genByMonth = {};\r\n                    const tempByMonth = {};\r\n                    const luxByMonth = {};\r\n                    const countByMonth = {};\r\n\r\n                    for (let i = 0; i < sysData.length; i++) {\r\n                        const dateParts = sysData[i].date.split(' ');\r\n                        const monthIndex = monthNames.indexOf(dateParts[0]);\r\n                        const year = dateParts[2];\r\n                        const yearMonth = `${monthNames[monthIndex]}-${year}`;\r\n                        const generate = sysData[i].pv_power;\r\n                        const temp = sysData[i].temp;\r\n                        const light = sysData[i].lux;\r\n\r\n                        if (genByMonth[yearMonth]) {\r\n                            genByMonth[yearMonth] += generate;\r\n                            tempByMonth[yearMonth] += temp;\r\n                            luxByMonth[yearMonth] += light;\r\n                            countByMonth[yearMonth]++;\r\n                        } else {\r\n                            genByMonth[yearMonth] = generate;\r\n                            tempByMonth[yearMonth] = temp;\r\n                            luxByMonth[yearMonth] = light;\r\n                            countByMonth[yearMonth] = 1;\r\n                        }\r\n                    }\r\n\r\n                    const resultArray = [];\r\n                    for (const yearMonth in genByMonth) {\r\n                        const [monthName, year] = yearMonth.split('-');\r\n                        const month = monthNames.indexOf(monthName) + 1;\r\n                        const generate = genByMonth[yearMonth] / countByMonth[yearMonth];\r\n                        const temp = tempByMonth[yearMonth] / countByMonth[yearMonth];\r\n                        const light = luxByMonth[yearMonth] / countByMonth[yearMonth];\r\n                        resultArray.push({ month: monthNames[month - 1], generate: generate, temp: temp, lux: light });\r\n                    }\r\n\r\n                    resultArray.map(row => {\r\n                        setGenerate(prevList => [...prevList, row.generate]);\r\n                        setTemp(prevList => [...prevList, row.temp]);\r\n                        setLight(prevList => [...prevList, row.lux]);\r\n                        setLabel(prevList => [...prevList, row.month]);\r\n                    });\r\n\r\n                    break;\r\n\r\n                default:\r\n                    return;\r\n            }\r\n\r\n        } catch {\r\n\r\n        }\r\n    }, [sysData, view])\r\n\r\n\r\n\r\n    const options = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: {\r\n                position: 'bottom'\r\n            },\r\n            title: {\r\n                display: true,\r\n                text: 'Energy Production',\r\n                font: {\r\n                    size: 24,\r\n                }\r\n            },\r\n            zoom: {\r\n                pan: {\r\n                    enabled: true,\r\n                    mode: 'x'\r\n                },\r\n                // zoom: {\r\n                //     pinch: {\r\n                //         enabled: true       // Enable pinch zooming\r\n                //     },\r\n                //     wheel: {\r\n                //         enabled: true       // Enable wheel zooming\r\n                //     },\r\n                //     mode: 'x',\r\n                // }\r\n            }\r\n        },\r\n    };\r\n\r\n    const labels = label;\r\n\r\n    const data = {\r\n        labels,\r\n        datasets: [\r\n            {\r\n                // fill: true,\r\n                type: 'line',\r\n                label: 'Temperature (°C)',\r\n                backgroundColor: 'rgb(4, 59, 92, 1)',\r\n                data: temp,\r\n                borderColor: 'rgb(4, 59, 92, 1)',\r\n            },\r\n            {\r\n                // fill: true,\r\n                type: 'line',\r\n                label: 'Ambient Light (Lux)',\r\n                backgroundColor: 'rgb(22, 160, 133, 1)',\r\n                data: light,\r\n                borderColor: 'rgb(22, 160, 133, 1)',\r\n            },\r\n            {\r\n                // fill: true,\r\n                type: 'line',\r\n                label: 'Generation (Wh)',\r\n                data: generate,\r\n                backgroundColor: 'rgb(207, 0, 15, 1)',\r\n                borderColor: 'rgb(207, 0, 15, 1)',\r\n            },\r\n        ],\r\n    };\r\n\r\n    return <Chart options={options} data={data} />;\r\n};\r\n\r\nexport default ProductionChart;","import React, { useState, memo } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport { FaCalendarAlt } from 'react-icons/fa';\r\nimport EnergyChart from '../charts/energyChart';\r\nimport ChargingChart from '../charts/chargingChart';\r\nimport BattLevelChart from '../charts/battLevelChart';\r\nimport ProductionChart from '../charts/productionChart';\r\n\r\nfunction Analysis(props) {\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const [showDatePicker, setShowDatePicker] = useState(false);\r\n  const minDate = new Date(2022, 10, 1);\r\n  const [viewMode, setViewMode] = useState('day');\r\n  const [dateFormat, setDateFormat] = useState({ month: 'long', day: 'numeric', year: 'numeric' });\r\n\r\n  const toggleDatePicker = () => {\r\n    setShowDatePicker(!showDatePicker);\r\n  };\r\n  const handleChange = (date) => {\r\n    setSelectedDate(date);\r\n    setShowDatePicker(false);\r\n  };\r\n  const CustomInput = ({ value, onClick }) => (\r\n    <FaCalendarAlt className=\"date-picker-icon\" onClick={onClick} />\r\n  );\r\n  const handleViewModeChange = (mode) => {\r\n    setViewMode(mode);\r\n    if (mode === 'month') {\r\n      setDateFormat({ month: 'long', year: 'numeric' });\r\n    } else if (mode === 'year') {\r\n      setDateFormat({ year: 'numeric' });\r\n    } else {\r\n      setDateFormat({ month: 'long', day: 'numeric', year: 'numeric' });\r\n    }\r\n  };\r\n\r\n  const options = dateFormat;\r\n  const formattedDate = selectedDate.toLocaleDateString('en-US', options);\r\n\r\n  const allData = props.data;\r\n  //Filtered Data by Date\r\n  const filterData = allData.filter(row => {\r\n    const logDate = new Date(row.date);\r\n    const month = logDate.getMonth();\r\n    const day = logDate.getDate();\r\n    const year = logDate.getFullYear();\r\n\r\n    const fDate = new Date(formattedDate);\r\n    const fMonth = fDate.getMonth();\r\n    const fday = fDate.getDate();\r\n    const fYear = fDate.getFullYear();\r\n\r\n    switch (viewMode) {\r\n      case 'day':\r\n        return month === fMonth && day === fday && year === fYear;\r\n      case 'month':\r\n        return month === fMonth && year === fYear;\r\n      case 'year':\r\n        return year === fYear;\r\n      default:\r\n        return month === fMonth && day === fday && year === fYear;\r\n    }\r\n  });\r\n  // console.table(filterData);\r\n  // console.log(formattedDate);\r\n\r\n  return (\r\n    <div className='analysis-container'>\r\n      <div className='d-flex align-items-center my-0'>\r\n        <h3 className='my-0'>System Analysis</h3>\r\n      </div>\r\n      <div className='d-flex align-items-center'>\r\n        <div className='analysis-date-picker w-50 py-1'>\r\n          <div className='date-picker-container d-flex justify-content-start align-items-center gap-2'>\r\n            <CustomInput onClick={toggleDatePicker} />\r\n            <h6 className='my-0'>{formattedDate}</h6>\r\n          </div>\r\n        </div>     {/** DATE PICKER */}\r\n        <div className='analysis-date-type w-100 d-flex justify-content-end gap-2'>\r\n          <button className={viewMode === 'day' ? 'btn date-type-btn-active btn date-type-btn' : 'btn date-type-btn'} onClick={() => handleViewModeChange('day')}>Day</button>\r\n          <button className={viewMode === 'month' ? 'btn date-type-btn-active btn date-type-btn' : 'btn date-type-btn'} onClick={() => handleViewModeChange('month')}>Month</button>\r\n          <button className={viewMode === 'year' ? 'btn date-type-btn-active btn date-type-btn' : 'btn date-type-btn'} onClick={() => handleViewModeChange('year')}>Year</button>\r\n        </div>\r\n      </div>\r\n\r\n      {showDatePicker && (\r\n        <div className=\"calendar-container\">\r\n          <DatePicker\r\n            selected={selectedDate}\r\n            onChange={handleChange}\r\n            showMonthYearPicker={viewMode === 'month'}\r\n            showYearPicker={viewMode === 'year'}\r\n            customInput={<></>}\r\n            popperPlacement=\"top-start\"\r\n            inline\r\n            minDate={minDate}\r\n            maxDate={new Date()}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <div className='analysis-section mt-3'>\r\n        {/******* ENERGY CHART ***************************************************/}\r\n\r\n        <div className='chart energy-chart mb-4'>\r\n          <EnergyChart data={filterData} viewMode={viewMode} />\r\n        </div>\r\n\r\n        {/******* CHARGING CHART **************************************************/}\r\n        {/* <div className='chart mb-4'>\r\n          <ChargingChart data={filterData} viewMode={viewMode} />\r\n        </div> */}\r\n\r\n\r\n        {/******* ENERGY ANALYSIS CHART COMBINED **********************************/}\r\n        <div className='chart mb-4'>\r\n          <ProductionChart data={filterData} viewMode={viewMode} className='chart' />\r\n        </div>\r\n\r\n        {/******* BATTERY LEVEL ANALYSIS CHART ************************************/}\r\n        <div className='chart'>\r\n          <BattLevelChart data={filterData} viewMode={viewMode} className='chart' />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(Analysis);"],"names":["ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","zoomPlugin","props","sysData","data","view","viewMode","useState","label","setLabel","dataSys","setDataSys","setDataCons","useEffect","map","row","prevList","pv_power","time","reduce","acc","item","existingItem","find","el","date","pv_gen","parseFloat","push","monthNames","sumByDate","i","length","dateParts","split","monthIndex","indexOf","year","yearMonth","value","sumByMonth","resultArray","monthName","month","sum","labels","datasets","backgroundColor","options","responsive","plugins","legend","position","title","display","text","font","size","zoom","pan","enabled","mode","PointElement","LineElement","Filler","LineController","BarController","level","setLevel","lamp","setLamp","status","setStatus","batt_level","led_status","charging","Math","max","levelByMonth","countByMonth","type","point","dataIndex","filter","legendItem","datasetIndex","generate","setGenerate","temp","setTemp","light","setLight","lux","byMonthFilter","sys_power","sys_temp","sys_lux","count","console","table","genByMonth","tempByMonth","luxByMonth","borderColor","Analysis","Date","selectedDate","setSelectedDate","showDatePicker","setShowDatePicker","minDate","setViewMode","day","dateFormat","setDateFormat","CustomInput","onClick","className","handleViewModeChange","formattedDate","toLocaleDateString","filterData","logDate","getMonth","getDate","getFullYear","fDate","fMonth","fday","fYear","selected","onChange","showMonthYearPicker","showYearPicker","customInput","popperPlacement","inline","maxDate","memo"],"sourceRoot":""}