"use strict";(self.webpackChunksinag_project=self.webpackChunksinag_project||[]).push([[758],{3758:function(e,s,a){a.r(s);var c=a(885),n=a(2791),i=(a(5636),a(1968)),r=a.n(i),l=a(8014),t=a(6355),d=a(4373),h=a(1578),o=a(7692),x=a(9126),j=a(71),m=a(184);function v(e,s){s.setHumidityValue;var a=(0,n.useState)(!1),i=(0,c.Z)(a,2),v=i[0],p=i[1],u=(0,n.useState)(null),N=(0,c.Z)(u,2),w=(N[0],N[1]),f=e.selectedSL,g=e.sameDate,S=e.allData,y=(0,n.useState)("-"),b=(0,c.Z)(y,2),F=b[0],_=b[1],T=(0,n.useState)("-"),C=(0,c.Z)(T,2),E=C[0],L=C[1],Z=(0,n.useState)("-"),k=(0,c.Z)(Z,2),D=k[0],Y=k[1],I=(0,n.useState)("-"),M=(0,c.Z)(I,2),V=M[0],W=M[1];(0,n.useEffect)((function(){A()}),[]);var A=function(){console.log("Fetching Weather Data");try{p(!0),fetch("https://api.openweathermap.org/data/2.5/weather?lat=14.4506&lon=120.9828&appid=a09978101e59b60cb76ea444b36760cc&units=metric").then((function(e){return e.json()})).then((function(e){_(G(e.sys.sunrise)),L(G(e.sys.sunset)),Y(e.main.temp),W(e.weather[0].description)})).catch((function(e){return w(e)})).finally(p(!1))}catch(e){console.error(e)}};function G(e){return new Date(1e3*e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}var H=function(){var e=S.reduce((function(e,s){var a=e.find((function(e){return e.date===s.date}));return a?a.gen_power+=.16667*parseFloat(s.pv_power):e.push({date:s.date,gen_power:.16667*s.pv_power}),e}),[]).reduce((function(e,s){return Math.max(e,s.gen_power)}),Number.NEGATIVE_INFINITY);return parseFloat(e).toFixed(2)};return(0,m.jsxs)("div",{className:"overview-container",children:[v?(0,m.jsx)(r(),{type:"spokes",color:"#0f1b2a",height:550,width:375,className:"loading-api"}):"",(0,m.jsx)("div",{className:"",children:(0,m.jsx)("h3",{className:"my-0",children:"System Overview"})}),(0,m.jsxs)("div",{className:"overview-container-wrapper",children:[(0,m.jsxs)("div",{className:"sl-overview-container",children:[(0,m.jsxs)("div",{className:"sl-wrapper mb-3",children:[(0,m.jsx)("div",{className:"sl-overview-card",children:(0,m.jsxs)("div",{className:"card-content",children:[(0,m.jsx)(t.f38,{className:"sl-icon"}),(0,m.jsxs)("h3",{children:[function(){var e=0;return g.forEach((function(s){e+=s.pv_power})),parseFloat(.16667*e).toFixed(2)}(),"Wh"]}),(0,m.jsx)("p",{children:"Current Yield"})]})}),(0,m.jsx)("div",{className:"sl-overview-card",children:(0,m.jsxs)("div",{className:"card-content",children:[(0,m.jsx)(l.FMY,{className:"sl-icon"}),(0,m.jsxs)("h3",{children:[H(),"Wh"]}),(0,m.jsx)("p",{children:"Highest Yield"})]})}),(0,m.jsx)("div",{className:"sl-overview-card",children:(0,m.jsxs)("div",{className:"card-content",children:[(0,m.jsx)(t.rV$,{className:"sl-icon"}),(0,m.jsx)("h3",{children:f.battCapacity}),(0,m.jsx)("p",{children:"Battery Capacity"})]})})]}),(0,m.jsxs)("div",{className:"sl-wrapper",children:[(0,m.jsx)("div",{className:"sl-overview-card",children:(0,m.jsxs)("div",{className:"card-content",children:[(0,m.jsx)(j.WEr,{className:"sl-icon"}),(0,m.jsxs)("h3",{children:[H(),"hr"]}),(0,m.jsx)("p",{children:"Avg. Charging Time"})]})}),(0,m.jsx)("div",{className:"sl-overview-card",children:(0,m.jsxs)("div",{className:"card-content",children:[(0,m.jsx)(h.PnF,{className:"sl-icon"}),(0,m.jsxs)("h3",{children:[H(),"hr"]}),(0,m.jsx)("p",{children:"Avg. ON Time"})]})}),(0,m.jsx)("div",{className:"sl-overview-card",children:(0,m.jsxs)("div",{className:"card-content",children:[(0,m.jsx)(d.oV2,{className:"sl-icon"}),(0,m.jsx)("h3",{children:f.lamp}),(0,m.jsx)("p",{children:"LED Lamp"})]})})]})]}),(0,m.jsxs)("div",{className:"sl-temp-container",children:[(0,m.jsxs)("div",{className:"sl-wrapper",children:[(0,m.jsxs)("div",{className:"weather-wrapper",children:[(0,m.jsx)("div",{className:"icon-wrapper",children:(0,m.jsx)(o.weT,{className:"weather-icon"})}),(0,m.jsxs)("div",{className:"temp-container",children:[(0,m.jsxs)("h3",{className:"temp-value",children:[D,"\xb0C"]}),(0,m.jsx)("h5",{className:"device-title",children:"Las Pi\xf1as, PH"}),(0,m.jsx)("p",{children:(0,m.jsx)("i",{children:V})})]})]}),(0,m.jsxs)("div",{className:"weather-container",children:[(0,m.jsxs)("div",{className:"content-container sunrise-container",children:[(0,m.jsx)("div",{className:"content-wrap",children:(0,m.jsx)("div",{className:"icon-wrapper",children:(0,m.jsx)(x.YKx,{className:"s-icon"})})}),(0,m.jsxs)("div",{className:"content-wrap",children:[(0,m.jsx)("h5",{className:"sunrise-value",children:F}),(0,m.jsx)("h6",{children:"(GMT+8)"}),(0,m.jsx)("p",{children:"Sunrise"})]})]}),(0,m.jsxs)("div",{className:"content-container sunset-container",children:[(0,m.jsx)("div",{className:"content-wrap",children:(0,m.jsx)("div",{className:"icon-wrapper",children:(0,m.jsx)(x.qud,{className:"s-icon"})})}),(0,m.jsxs)("div",{className:"content-wrap",children:[(0,m.jsx)("h5",{className:"sunset-value",children:E}),(0,m.jsx)("h6",{children:"(GMT+8)"}),(0,m.jsx)("p",{children:"Sunset"})]})]})]})]}),(0,m.jsx)("div",{className:"dv-container",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{className:"device-title",children:"Location"}),(0,m.jsx)("p",{className:"location-txt",children:f.location})]})})]})]})]})}s.default=(0,n.memo)(v)}}]);
//# sourceMappingURL=758.4320f792.chunk.js.map