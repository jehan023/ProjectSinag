"use strict";(self.webpackChunksinag_project=self.webpackChunksinag_project||[]).push([[758],{3758:function(e,s,i){i.r(s);var a=i(885),t=i(2791),n=(i(5636),i(1968)),l=i.n(n),c=i(8014),r=i(6355),d=i(1578),h=i(184);function m(e,s){s.setHumidityValue;var i=(0,t.useState)(!1),n=(0,a.Z)(i,2),m=n[0],o=n[1],x=(0,t.useState)(null),u=(0,a.Z)(x,2),v=(u[0],u[1]),j=e.selectedSL,p=e.sameDate,f=e.allData,N=(0,t.useState)("-"),w=(0,a.Z)(N,2),g=w[0],b=w[1],S=(0,t.useState)("-"),y=(0,a.Z)(S,2),L=y[0],F=y[1],_=(0,t.useState)("-"),C=(0,a.Z)(_,2),D=C[0],Z=C[1],k=(0,t.useState)("-"),E=(0,a.Z)(k,2),T=E[0],I=E[1];(0,t.useEffect)((function(){M()}),[]);var M=function(){console.log("Fetching Weather Data");try{o(!0),fetch("https://api.openweathermap.org/data/2.5/weather?lat=14.4506&lon=120.9828&appid=a09978101e59b60cb76ea444b36760cc&units=metric").then((function(e){return e.json()})).then((function(e){b(W(e.sys.sunrise)),F(W(e.sys.sunset)),Z(e.main.temp),I(e.weather[0].description)})).catch((function(e){return v(e)})).finally(o(!1))}catch(e){console.error(e)}};function W(e){return new Date(1e3*e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}return(0,h.jsxs)("div",{className:"overview-container",children:[m?(0,h.jsx)(l(),{type:"spokes",color:"#0f1b2a",height:550,width:375,className:"loading-api"}):"",(0,h.jsx)("div",{className:"d-flex align-items-center my-0",children:(0,h.jsx)("h3",{className:"my-0",children:"System Overview"})}),(0,h.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,h.jsxs)("div",{className:"sl-overview py-3",children:[(0,h.jsx)("div",{className:"d-flex gap-5 mb-3",children:(0,h.jsxs)("div",{className:"sl-overview-card d-flex align-items-center",children:[(0,h.jsx)(c.FMY,{className:"overview-icon w-100"}),(0,h.jsxs)("div",{className:"w-100",children:[(0,h.jsxs)("h3",{children:[function(){var e=0;return p.forEach((function(s){e+=s.pv_power})),parseFloat(.16667*e).toFixed(2)}(),"Wh"]}),(0,h.jsx)("p",{children:"Current Yield"}),(0,h.jsxs)("h3",{children:[function(){var e=f.reduce((function(e,s){var i=e.find((function(e){return e.date===s.date}));return i?i.gen_power+=.16667*parseFloat(s.pv_power):e.push({date:s.date,gen_power:.16667*s.pv_power}),e}),[]).reduce((function(e,s){return Math.max(e,s.gen_power)}),Number.NEGATIVE_INFINITY);return parseFloat(e).toFixed(2)}(),"Wh"]}),(0,h.jsx)("p",{children:"Highest Yield"})]})]})}),(0,h.jsxs)("div",{className:"d-flex gap-5 mb-3",children:[(0,h.jsxs)("div",{className:"sl-overview-card d-flex align-items-center",children:[(0,h.jsx)(r.rV$,{className:"overview-icon w-100"}),(0,h.jsxs)("div",{className:"w-100",children:[(0,h.jsx)("h2",{children:j.battCapacity}),(0,h.jsx)("p",{children:"Battery Capacity"})]})]}),(0,h.jsxs)("div",{className:"sl-overview-card d-flex align-items-center",children:[(0,h.jsx)(d.PnF,{className:"overview-icon w-100"}),(0,h.jsxs)("div",{className:"w-100",children:[(0,h.jsx)("h2",{children:j.lamp}),(0,h.jsx)("p",{children:"LED Lamp"})]})]})]})]}),(0,h.jsx)("div",{className:"sl-devices p-3",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"mb-3",children:"Devices"}),(0,h.jsx)("div",{className:"devices-list",children:[{list:"SL1",value:"SL1",label:"Streetlight 1"},{list:"SL2",value:"SL2",label:"Streetlight 2"},{list:"SL3",value:"SL3",label:"Streetlight 3"}].map((function(e){return(0,h.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-1 mx-3",children:[(0,h.jsx)("div",{className:"sl-status",children:" - "}),(0,h.jsxs)("p",{children:[e.label," (",e.list,")"]})]},e.value)}))}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"my-3",children:"Location"}),(0,h.jsx)("p",{className:"mn-3",children:j.location})]}),(0,h.jsx)("h2",{className:"my-3",children:"Weather"}),(0,h.jsxs)("div",{className:"temp-time d-flex justify-content-between p-1",children:[(0,h.jsxs)("div",{className:"current-temp tt-item",children:[(0,h.jsxs)("h2",{className:"mb-1",children:[D,"\xb0C"]}),(0,h.jsx)("h6",{children:(0,h.jsx)("i",{children:T})}),(0,h.jsx)("p",{children:"Las Pi\xf1as, PH"})]}),(0,h.jsxs)("div",{className:"sunrise-time tt-item",children:[(0,h.jsx)("h2",{className:"mb-1",children:g}),(0,h.jsx)("h6",{children:"(GMT+8)"}),(0,h.jsx)("p",{children:"Sunrise"})]}),(0,h.jsxs)("div",{className:"sunset-time tt-item",children:[(0,h.jsx)("h2",{className:"mb-1",children:L}),(0,h.jsx)("h6",{children:"(GMT+8)"}),(0,h.jsx)("p",{children:"Sunset"})]})]})]})})]})]})}s.default=(0,t.memo)(m)}}]);
//# sourceMappingURL=758.393e1172.chunk.js.map